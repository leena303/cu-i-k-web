<div class="page-wrapper">
  <app-header></app-header>

  <div class="container">
    <div class="intro-section">
      <h1>Đây là trang Home</h1>
      <p>Trang này hiển thị danh sách các sản phẩm, kèm ảnh</p>
      <p>Các bạn có thể chọn xem sản phẩm và mua hàng tại đây</p>
    </div>

    <div class="search-box">
      <input type="text" class="form-control search-input" placeholder="Tìm sản phẩm" [(ngModel)]="searchText"
        (input)="onSearch()">
      <select class="form-control product-category" [(ngModel)]="selectedCategory" (change)="onCategoryChange()">
        <option value="">Danh mục sản phẩm</option>
        <option value="Điện thoại">Điện thoại</option>
        <option value="Laptop">Laptop</option>
        <option value="Đồng hồ">Đồng hồ</option>
        <option value="Phụ kiện">Phụ kiện</option>
        <option value="Máy ảnh và quay phim">Máy ảnh và quay phim</option>
        <option value="Thiết bị in ấn và mạng">Thiết bị in ấn và mạng</option>
        <option value="Âm thanh & Giải trí">Âm thanh & Giải trí</option>
      </select>
    </div>

    <div class="row">
      <div class="col-lg-4 col-md-6" *ngFor="let product of pagedProducts">
        <div class="product-item" (click)="viewDetail(product)">
          <img [src]="product.getFullImageUrl()" [alt]="product.name" class="product-image"
            (click)="goToDetail(product.id)" style="cursor: pointer"
            (error)="product.image = product.getDefaultImage()">
          <div class="product-details-content">
            <h3 class="product-name">{{product.name}}</h3>
            <p class="product-description">{{product.trademark}}</p>
            <p class="product-warranty">Bảo hành: 12 tháng</p>
            <p class="product-price">Giá: {{product.price | number }} VNĐ</p>
            <p class="product-quantity" *ngIf="+product.quantity! > 0" style="color: white;">
              Số lượng: {{ +product.quantity! }}
            </p>
            <p class="product-quantity" *ngIf="!product.quantity || +product.quantity! === 0"
              style="color: red; font-weight: bold;">
              Hết hàng
            </p>
          </div>
          <div class="product-rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
          </div>
          <div class="product-actions">
            <button class="btn btn-primary" (click)="addToCart(product)">Thêm vào giỏ hàng</button>
            <span class="space-x"></span>
            <button class="btn btn-success" (click)="buyNow(product)">Mua ngay</button>
          </div>
        </div>
      </div>
    </div>

    <div style="margin: 16px 0; text-align: center;">
      <button class="pagination-btn" (click)="goToPage(page - 1)" [disabled]="page === 1">Trước</button>
      <span style="margin: 0 12px; color: white;">Trang {{page}} / {{totalPages}}</span>
      <button class="pagination-btn" (click)="goToPage(page + 1)" [disabled]="page === totalPages">Sau</button>
    </div>
  </div>

  <app-footer></app-footer>
</div>
